<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Woke Dash</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />

    <!-- Let's load our model first, so we can assign the window title. -->
    <script src="./woke-dash-model.js"></script>
    <script>
        document.title = window.model.metadata.project_name + ": Woke Dash";
    </script>

    <!-- region dependencies -->
    <!-- region gojs -->
    <script src="./vendor/go-2.3.8.js"></script>
    <!-- endregion gojs -->

    <!-- region fomantic ui-->
    <!-- Fomantic UI is a better (maintained) version of Semantic UI, a front-end component library (like eg Material Design)-->
    <!-- You MUST include jQuery 3+ before Fomantic -->
    <script src="./vendor/jquery-3.6.3.js"></script>
    <!-- <link rel="stylesheet" type="text/css" href="./vendor/fomantic-2.9.2.css"> -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.9.2/dist/semantic.min.css">
    <script src="./vendor/fomantic-2.9.2.js"></script>
    <!-- endregion fomantic ui-->
    <!-- endregion dependencies -->

</head>

<!-- Display: flex allows the following options (among others):
    1. flex-dirction - how will DOM childern be layed out. row by default.
    2. justify-content - how will DOM children be layed out along the main axis. flex-start by default.
    3. align-items - how will DOM children be layed out along the cross axis. stretch by default.
Childern can have:
    1. flex-grow - proportional that they are allowed to expand by. 0 by default.
-->
<!-- height: 100vh (vertical height) means the body occupies the entire page. -->
<body style="height: 100vh; margin: 0; display: flex; flex-direction: column;">
    <div style="display: flex; flex-direction: row; justify-content: center; margin: 10px 0 0 0">
        <button class="ui button teal" onclick="$('.ui.overlay.fullscreen.modal').modal('show');">Help</button>
        <button class="ui button" onclick="window.myRefGraph.layout.spacing -= 50">spacing -50</button>
        <button class="ui button" onclick="window.myRefGraph.layout.spacing += 50">spacing +50</button>
        <!-- margin order: top, right, bottom, left -->
        <button class="ui button" style="margin: 0 0 0 10px" onclick="window.collapse_all()">Collapse all</button>
        <button class="ui button teal" style="margin: 0 10px" onclick="window.myRefGraph.commandHandler.zoomToFit(); myRefGraph.alignDocument(go.Spot.Center, go.Spot.Center);">Center diagram</button>
        <button class="ui button" style="margin: 0 10px 0 0" onclick="window.expand_all()">Expand all</button>
        <button class="ui button" onclick="window.myRefGraph.layout.aspectRatio -= 0.1">aspectRatio -0.1</button>
        <button class="ui button" onclick="window.myRefGraph.layout.aspectRatio += 0.1">aspectRatio +0.1</button>
    </div>
    <div class="container">
        <div id="myDeclDiv" class="resizable"></div>
        <div id="resizer"></div>
        <div id="myRefDiv" class="resizable"></div>
    </div>
    <style>
        .container {
            display: flex;
            width: 100%;
            /* make this extend until the end of the page */
            flex-grow: 1;
        }

        .resizable {
            min-width: 100px;
            border: 1px solid black;
        }

        #myDeclDiv {
            flex-grow: 2.5;
            margin: 10px 0 10px 10px;
        }

        #myRefDiv {
            flex-grow: 7.5;
            margin: 10px 10px 10px 0;
        }

        #resizer {
            width: 10px;
            /* display a resize cursor when hovering over the resizer */
            cursor: ew-resize;
        }
    </style>

    <script src="./lib/common.js"></script>
    <script src="./lib/declGraph.js"></script>
    <script src="./lib/refGraph.js"></script>

    <div class="ui overlay fullscreen modal">
        <i class="close icon"></i>
        <div class="header">
            Help
        </div>
        <div class="content">
            <p>Keyboard shortcuts that work when Declaration Graph (the one on the left) is focused:</p>
            <ul>
                <li>j, k - select next/previous node</li>
            </ul>
        </div>
</body>

</html>

